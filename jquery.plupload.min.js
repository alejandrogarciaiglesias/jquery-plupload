/*
 * jQuery Plupload plugin
 *
 * @author Alejandro Garc√≠a Iglesias
 *//*global jQuery, plupload */(function(e,t){"use strict";var n=function(t,n){var r,i={};this.$el=e(t);r=this.$el.attr("id");if(!r){r=Math.random().toString(36).substring(2);this.$el.attr("id",r)}i.browse_button=r;this.options=e.extend({},n,i);this.init()};n.prototype.init=function(){this.uploader=new t.Uploader(this.options);this.uploader.init();this.bindEvents()};n.prototype.bindEvents=function(){var e=this;this.uploader.bind("FilesAdded",function(e){e.start()});this.uploader.bind("BeforeUpload",function(t,n){typeof e.options.onBeforeUpload=="function"&&e.options.onBeforeUpload.call(e.$el.get(0),t,n)});this.uploader.bind("Error",function(t,n){t.refresh();typeof e.options.onError=="function"&&e.options.onError.call(e.$el.get(0),t,n)});this.uploader.bind("FileUploaded",function(t,n,r){typeof e.options.onFileUploaded=="function"&&e.options.onFileUploaded.call(e.$el.get(0),t,n,r)});this.uploader.bind("UploadProgress",function(t,n){typeof e.options.onUploadProgress=="function"&&e.options.onUploadProgress.call(e.$el.get(0),t,n)})};e.fn.plupload=function(t){return this.each(function(){e.data(this,"plugin_plupload")||e.data(this,"plugin_plupload",new n(this,t))})}})(jQuery,plupload);